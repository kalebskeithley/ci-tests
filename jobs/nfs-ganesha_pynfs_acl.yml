- job:
    name: nfs_ganesha_pynfs_acl 
    node: cico-workspace
    description: 'Run pynfs (NFSv4.0) tests against the latest build of Ganesha with FSAL_GLUSTER with ACL enabled on the volume'
    project-type: freestyle
    concurrent: true
    allow-manual-triggers: true

    properties:
    - discarder
    - nfs-github

    parameters:
    - string:
        default: "$WORKSPACE/ci-tests/build_scripts/common/basic-gluster.sh"
        description: Test script to execute on the reserved machine acting as a server.
        name: SERVER_TEST_SCRIPT
    - string:
        default: "$WORKSPACE/ci-tests/build_scripts/pynfs/client.py"
        description: Test script to execute on the reserved machine acting as a client.
        name: CLIENT_TEST_SCRIPT
    - nfs_variables:
        export_var: 'pynfs'
    - gerrit_variables
    - string:
        default: 'noWRT18 noRD4 noSEC7'
        description: 'Pass additional parameters/options to the pynfs execution.'
        name: TEST_PARAMETERS
    - centos_variables
    - string:
        default: True
        description: 'Enable acl on the volume'
        name: ENABLE_ACL

    builders:
    - shell: !include-raw: scripts/common.sh

    wrappers:
    - cleanup-ws
